@import "tailwindcss";

@theme {
  --font-sans: 'Nunito', sans-serif;
  --font-serif: 'Merriweather', serif;

  --color-primary-50: #f0f9ff;
  --color-primary-100: #e0f2fe;
  --color-primary-200: #bae6fd;
  --color-primary-300: #7dd3fc;
  --color-primary-400: #38bdf8;
  --color-primary-500: #0ea5e9;
  --color-primary-600: #0284c7;
  --color-primary-700: #0369a1;
  --color-primary-800: #075985;
  --color-primary-900: #0c4a6e;

  --color-background: #f9fafb;
  --color-foreground: #1f2937;
  --color-card: #ffffff;
  --color-card-foreground: #1f2937;
  --color-muted: #f3f4f6;
  --color-muted-foreground: #6b7280;
  --color-border: #e5e7eb;
  --color-destructive: #ef4444;
  --color-success: #22c55e;
  --color-warning: #f59e0b;
}

@layer base {
  .dark {
    --color-background: #0f172a;
    --color-foreground: #f1f5f9;
    --color-card: #1e293b;
    --color-card-foreground: #f1f5f9;
    --color-muted: #334155;
    --color-muted-foreground: #94a3b8;
    --color-border: #334155;
  }

  body {
    @apply bg-background text-foreground font-sans min-h-screen antialiased;
    -webkit-tap-highlight-color: transparent;
  }

  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-primary-500;
  }
}

/* Page enter animation */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in-up {
  animation: fadeInUp 0.4s ease-out both;
}

/* Staggered list animation */
@keyframes slideIn {
  from { opacity: 0; transform: translateX(-12px); }
  to { opacity: 1; transform: translateX(0); }
}
.animate-slide-in {
  animation: slideIn 0.3s ease-out both;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ─── Flashcard 3D flip ─── */
.flashcard-container {
  perspective: 1200px;
}
.flashcard-inner {
  position: relative;
  width: 100%;
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  transform-style: preserve-3d;
}
.flashcard-inner.flipped {
  transform: rotateY(180deg);
}
.flashcard-front,
.flashcard-back {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  border-radius: 1rem;
}
.flashcard-back {
  transform: rotateY(180deg);
}

/* Swipe feedback */
.swipe-container {
  touch-action: pan-y;
  user-select: none;
}
.swipe-container.swiping-left {
  transform: translateX(-20px) rotate(-2deg);
  opacity: 0.8;
}
.swipe-container.swiping-right {
  transform: translateX(20px) rotate(2deg);
  opacity: 0.8;
}

/* ─── Sentence analysis component tags ─── */
.component-subject { @apply bg-blue-100 text-blue-800 dark:bg-blue-900/60 dark:text-blue-200; }
.component-predicate { @apply bg-red-100 text-red-800 dark:bg-red-900/60 dark:text-red-200; }
.component-object { @apply bg-green-100 text-green-800 dark:bg-green-900/60 dark:text-green-200; }
.component-attribute { @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900/60 dark:text-yellow-200; }
.component-adverbial { @apply bg-purple-100 text-purple-800 dark:bg-purple-900/60 dark:text-purple-200; }
.component-complement { @apply bg-pink-100 text-pink-800 dark:bg-pink-900/60 dark:text-pink-200; }
.component-appositive { @apply bg-indigo-100 text-indigo-800 dark:bg-indigo-900/60 dark:text-indigo-200; }

.component-tag {
  @apply inline-flex items-center gap-0.5 px-2 py-1 rounded-md relative cursor-pointer
         transition-all duration-200 hover:scale-105 hover:shadow-sm;
}
.component-label {
  @apply text-[10px] font-bold uppercase tracking-wide opacity-70;
}

/* ─── Quiz ─── */
.quiz-option {
  @apply transition-all duration-200;
}
.quiz-option:not(.correct):not(.incorrect):hover {
  @apply border-primary-300 bg-primary-50 dark:bg-primary-900/20;
}
.quiz-option.correct {
  @apply border-green-500 bg-green-50 dark:bg-green-900/30 shadow-sm;
}
.quiz-option.incorrect {
  @apply border-red-500 bg-red-50 dark:bg-red-900/30 shadow-sm;
}

/* ─── Vocabulary highlight ─── */
.highlighted-word {
  @apply bg-yellow-100 dark:bg-yellow-900/40 px-0.5 rounded cursor-pointer relative
         transition-colors duration-200 hover:bg-yellow-200 dark:hover:bg-yellow-800/50;
}

/* ─── Toast ─── */
@keyframes toastIn {
  from { transform: translateY(100%); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
@keyframes toastOut {
  from { transform: translateY(0); opacity: 1; }
  to { transform: translateY(100%); opacity: 0; }
}
.toast-enter { animation: toastIn 0.3s ease-out both; }
.toast-exit { animation: toastOut 0.25s ease-in both; }

/* ─── Modal backdrop ─── */
@keyframes backdropIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes modalIn {
  from { opacity: 0; transform: scale(0.95) translateY(10px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}
.modal-backdrop { animation: backdropIn 0.2s ease-out both; }
.modal-content { animation: modalIn 0.3s ease-out both; }

/* ─── Scrollbar ─── */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { @apply bg-border rounded-full; }
::-webkit-scrollbar-thumb:hover { @apply bg-muted-foreground/50; }
